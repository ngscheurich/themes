local palette = {
  -- stylua: ignore start
  rosewater = "{{ .palette.rosewater }}",
  flamingo  = "{{ .palette.flamingo }}",
  pink      = "{{ .palette.pink }}",
  mauve     = "{{ .palette.mauve }}",
  red       = "{{ .palette.red }}",
  maroon    = "{{ .palette.maroon }}",
  peach     = "{{ .palette.peach }}",
  yellow    = "{{ .palette.yellow }}",
  green     = "{{ .palette.green }}",
  teal      = "{{ .palette.teal }}",
  sky       = "{{ .palette.sky }}",
  sapphire  = "{{ .palette.sapphire }}",
  blue      = "{{ .palette.blue }}",
  lavender  = "{{ .palette.lavender }}",

  text      = "{{ .palette.text }}",
  subtext1  = "{{ .palette.subtext1 }}",
  subtext0  = "{{ .palette.subtext0 }}",

  overlay2  = "{{ .palette.overlay2 }}",
  overlay1  = "{{ .palette.overlay1 }}",
  overlay0  = "{{ .palette.overlay0 }}",

  surface2  = "{{ .palette.surface2 }}",
  surface1  = "{{ .palette.surface1 }}",
  surface0  = "{{ .palette.surface0 }}",

  base      = "{{ .palette.base }}",

  mantle    = "{{ .palette.mantle }}",
  crust     = "{{ .palette.crust }}",
  -- stylua: ignore end
}

return {
  name = "vague",
  colorscheme = "catppuccin",

  apply = function(setup)
    setup({
      color_overrides = { mocha = palette },
      integrations = { aerial = true, blink_cmp = true },
    })

    vim.cmd.colorscheme("catppuccin-mocha")

    vim.cmd.hi("NormalAlt guibg=" .. palette.mantle)
    vim.cmd.hi("FloatBorder guifg=" .. palette.surface2)
    vim.cmd.hi("CursorLine guibg=" .. palette.mantle)

    local snacks_picker_border = "SnacksPickerBorder guifg=%s guibg=%s"
    vim.cmd.hi("SnacksPicker guibg=" .. palette.base)
    vim.cmd.hi(string.format(snacks_picker_border, palette.surface2, palette.base))
  end,
}

-- vim:ft=lua
